name: "Validate File Changes"
description: "check if mandatory files are changed"
runs:
  using: "composite"
  steps:
    - name: Setup Path Filter task and Execute
      uses: dorny/paths-filter@v2
      id: filter
      with:
        filters: |
          md: ['CHANGELOG.md']

    - name: FAIL if mandatory files are not changed
      if: ${{ steps.filter.outputs.md == 'false' }}
      uses: actions/github-script@v3
      with:
        script: |
          core.setFailed('Mandatory markdown files were not changed')
    #todo : set success/failure as output and use slack action to send message . setting success failure: https://docs.github.com/en/actions/creating-actions/metadata-syntax-for-github-actions#outputs-for-composite-actions



#usage
#jobs:
#  your_job:
#    runs-on: ubuntu-latest
#    permissions:
#      contents: read
#      packages: write
#
#    steps:
#      - name: Checkout Code from Source Branch. #mandatory step, must be run before  this action
#        uses: actions/checkout@v2
#
#      - name: check if mandatory files are changed
#        uses: ./.github/workflows/independent/check_mandatory_files_changes
#
